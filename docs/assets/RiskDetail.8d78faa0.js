import{A as V,C as de,D as ue,u as F,E as ce,G as q,H as R,I as fe,J as ye,K as ve,L as me,N,b as T,d as L,a as H,v as b,P,r as $,M as pe,O as he,Q as be,R as ke,S as Y,q as p,T as Ce,c as B,U as Q,V as $e,W as we,X as ge,Y as Ee,Z,$ as Be,a0 as Ae,a1 as Se,a2 as De,a3 as Ie,_ as Re,a4 as S,o as c,g as X,w,a5 as Te,x as l,n as h,j as Ke,a6 as ze,s as y,y as n,a7 as C,a8 as Me,a9 as Oe,aa as Ne,l as Pe,B as Le,ab as v,t as j,h as D,F as G,z as Ve}from"./index.9a807483.js";import{U as _}from"./event.7d53d36c.js";let I;const Fe=e=>{var t;if(!V)return 0;if(I!==void 0)return I;const o=document.createElement("div");o.className=`${e}-scrollbar__wrap`,o.style.visibility="hidden",o.style.width="100px",o.style.position="absolute",o.style.top="-9999px",document.body.appendChild(o);const r=o.offsetWidth;o.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",o.appendChild(i);const d=i.offsetWidth;return(t=o.parentNode)==null||t.removeChild(o),I=r-d,I},He=e=>{de(e)||ue("[useLockscreen]","You need to pass a ref param to this function");const t=F("popup"),o=ce(()=>t.bm("parent","hidden"));if(!V||q(document.body,o.value))return;let r=0,i=!1,d="0";const s=()=>{setTimeout(()=>{me(document.body,o.value),i&&(document.body.style.width=d)},200)};R(e,u=>{if(!u){s();return}i=!q(document.body,o.value),i&&(d=document.body.style.width),r=Fe(t.namespace.value);const a=document.documentElement.clientHeight<document.body.scrollHeight,f=fe(document.body,"overflowY");r>0&&(a||f==="scroll")&&i&&(document.body.style.width=`calc(100% - ${r}px)`),ye(document.body,o.value)}),ve(()=>s())},We=e=>{if(!e)return{onClick:N,onMousedown:N,onMouseup:N};let t=!1,o=!1;return{onClick:s=>{t&&o&&e(s),t=o=!1},onMousedown:s=>{t=s.target===s.currentTarget},onMouseup:s=>{o=s.target===s.currentTarget}}},Ue=T({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:L([String,Array,Object])},zIndex:{type:L([String,Number])}}),qe={click:e=>e instanceof MouseEvent};var Ye=H({name:"ElOverlay",props:Ue,emits:qe,setup(e,{slots:t,emit:o}){const r=F("overlay"),i=a=>{o("click",a)},{onClick:d,onMousedown:s,onMouseup:u}=We(e.customMaskEvent?void 0:i);return()=>e.mask?b("div",{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:d,onMousedown:s,onMouseup:u},[$(t,"default")],P.STYLE|P.CLASS|P.PROPS,["onClick","onMouseup","onMousedown"]):pe("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[$(t,"default")])}});const Ze=Ye,je=T({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:he},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),Ge=T({...je,appendToBody:{type:Boolean,default:!1},beforeClose:{type:L(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),Je={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[_]:e=>be(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Qe=(e,t)=>{const r=ge().emit,{nextZIndex:i}=ke();let d="";const s=Y(),u=Y(),a=p(!1),f=p(!1),k=p(!1),K=p(e.zIndex||i());let g,E;const x=Ce("namespace",Ee),ee=B(()=>{const m={},A=`--${x.value}-dialog`;return e.fullscreen||(e.top&&(m[`${A}-margin-top`]=e.top),e.width&&(m[`${A}-width`]=Q(e.width))),m}),se=B(()=>e.alignCenter?{display:"flex"}:{});function te(){r("opened")}function oe(){r("closed"),r(_,!1),e.destroyOnClose&&(k.value=!1)}function le(){r("close")}function W(){E==null||E(),g==null||g(),e.openDelay&&e.openDelay>0?{stop:g}=Z(()=>U(),e.openDelay):U()}function z(){g==null||g(),E==null||E(),e.closeDelay&&e.closeDelay>0?{stop:E}=Z(()=>O(),e.closeDelay):O()}function M(){function m(A){A||(f.value=!0,a.value=!1)}e.beforeClose?e.beforeClose(m):z()}function ae(){e.closeOnClickModal&&M()}function U(){!V||(a.value=!0)}function O(){a.value=!1}function ne(){r("openAutoFocus")}function re(){r("closeAutoFocus")}e.lockScroll&&He(a);function ie(){e.closeOnPressEscape&&M()}return R(()=>e.modelValue,m=>{m?(f.value=!1,W(),k.value=!0,K.value=e.zIndex?K.value++:i(),$e(()=>{r("open"),t.value&&(t.value.scrollTop=0)})):a.value&&z()}),R(()=>e.fullscreen,m=>{!t.value||(m?(d=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=d)}),we(()=>{e.modelValue&&(a.value=!0,k.value=!0,W())}),{afterEnter:te,afterLeave:oe,beforeLeave:le,handleClose:M,onModalClick:ae,close:z,doClose:O,onOpenAutoFocus:ne,onCloseAutoFocus:re,onCloseRequested:ie,titleId:s,bodyId:u,closed:f,style:ee,overlayDialogStyle:se,rendered:k,visible:a,zIndex:K}},Xe=T({...Ge,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}}),_e=Je,xe=H({name:"ElDrawer",components:{ElOverlay:Ze,ElFocusTrap:Be,ElIcon:Ae,Close:Se},props:Xe,emits:_e,setup(e,{slots:t}){De({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},B(()=>!!t.title));const o=p(),r=p(),i=F("drawer"),{t:d}=Ie(),s=B(()=>e.direction==="rtl"||e.direction==="ltr"),u=B(()=>Q(e.size));return{...Qe(e,o),drawerRef:o,focusStartRef:r,isHorizontal:s,drawerSize:u,ns:i,t:d}}}),es=["aria-label","aria-labelledby","aria-describedby"],ss=["id"],ts=["aria-label"],os=["id"];function ls(e,t,o,r,i,d){const s=S("close"),u=S("el-icon"),a=S("el-focus-trap"),f=S("el-overlay");return c(),X(Ne,{to:"body",disabled:!e.appendToBody},[b(Oe,{name:e.ns.b("fade"),onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave,persisted:""},{default:w(()=>[Te(b(f,{mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex,onClick:e.onModalClick},{default:w(()=>[b(a,{loop:"",trapped:e.visible,"focus-trap-el":e.drawerRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:w(()=>[l("div",{ref:"drawerRef","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:e.titleId,"aria-describedby":e.bodyId,class:h([e.ns.b(),e.direction,e.visible&&"open",e.customClass]),style:Ke(e.isHorizontal?"width: "+e.drawerSize:"height: "+e.drawerSize),role:"dialog",onClick:t[1]||(t[1]=ze(()=>{},["stop"]))},[l("span",{ref:"focusStartRef",class:h(e.ns.e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(c(),y("header",{key:0,class:h(e.ns.e("header"))},[e.$slots.title?$(e.$slots,"title",{key:1},()=>[C(" DEPRECATED SLOT ")]):$(e.$slots,"header",{key:0,close:e.handleClose,titleId:e.titleId,titleClass:e.ns.e("title")},()=>[e.$slots.title?C("v-if",!0):(c(),y("span",{key:0,id:e.titleId,role:"heading",class:h(e.ns.e("title"))},n(e.title),11,ss))]),e.showClose?(c(),y("button",{key:2,"aria-label":e.t("el.drawer.close"),class:h(e.ns.e("close-btn")),type:"button",onClick:t[0]||(t[0]=(...k)=>e.handleClose&&e.handleClose(...k))},[b(u,{class:h(e.ns.e("close"))},{default:w(()=>[b(s)]),_:1},8,["class"])],10,ts)):C("v-if",!0)],2)):C("v-if",!0),e.rendered?(c(),y("div",{key:1,id:e.bodyId,class:h(e.ns.e("body"))},[$(e.$slots,"default")],10,os)):C("v-if",!0),e.$slots.footer?(c(),y("div",{key:2,class:h(e.ns.e("footer"))},[$(e.$slots,"footer")],2)):C("v-if",!0)],14,es)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Me,e.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var as=Re(xe,[["render",ls],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const J=Pe(as);const ns={class:"desc"},rs={class:"desc"},is={class:"desc"},ds={class:"desc"},us={class:"desc"},cs={class:"desc"},fs={class:"desc"},ys=["onClick"],vs={class:"desc"},ms=["href"],ps={key:1},hs={class:"desc"},bs={class:"desc"},ks={class:"desc"},Cs={class:"desc"},$s=H({__name:"RiskDetail",props:{drawer:{type:Boolean},rKey:null},emits:["drawerClose"],setup(e){const t=e,o=Le.risks,r=p(!1),i=p(!1),d=p("");return R(()=>t.rKey+t.drawer,()=>{r.value=t.drawer}),(s,u)=>(c(),X(D(J),{modelValue:r.value,"onUpdate:modelValue":u[1]||(u[1]=a=>r.value=a),onClosed:u[2]||(u[2]=a=>s.$emit("drawerClose")),title:s.$t("riskDetail"),direction:"rtl",size:"40%"},{default:w(()=>[l("div",ns,[l("strong",null,n(s.$t("riskKey"))+":\xA0",1),v(" "+n(e.rKey),1)]),l("div",rs,[l("strong",null,n(s.$t("riskTitle"))+":\xA0",1),v(" "+n(s.$t(`BREAK.risks.${e.rKey}.title`)),1)]),l("div",is,[l("strong",null,n(s.$t("riskDescription"))+":\xA0",1),v(" "+n(s.$t(`BREAK.risks.${e.rKey}.description`)),1)]),l("div",ds,[l("strong",null,n(s.$t("riskAttack"))+":\xA0",1),v(" "+n(s.$t(`BREAK.risks.${e.rKey}.attack`)),1)]),l("div",us,[l("strong",null,n(s.$t("riskComplexity"))+":\xA0",1),v(" "+n(s.$t(`BREAK.risks.${e.rKey}.complexity`)),1)]),l("div",cs,[l("strong",null,n(s.$t("riskInfluence"))+":\xA0",1),v(" "+n(s.$t(`BREAK.risks.${e.rKey}.influence`)),1)]),l("div",fs,[l("strong",null,n(s.$t("riskAvoidances"))+":\xA0",1),l("ul",null,[(c(!0),y(G,null,j(D(o)[e.rKey].avoidances,a=>(c(),y("li",{key:a},[l("a",{href:"#",onClick:f=>{d.value=a,i.value=!0}},n(a+":\xA0"+s.$t(`BREAK.avoidances.${a}.title`)),9,ys)]))),128))])]),l("div",vs,[l("strong",null,n(s.$t("riskReference"))+":\xA0",1),l("ul",null,[(c(!0),y(G,null,j(D(o)[e.rKey].reference,(a,f)=>(c(),y("li",null,[a.link?(c(),y("a",{key:0,href:a.link,target:"_blank"},n(s.$t(`BREAK.risks.${e.rKey}.reference[${f}].title`)),9,ms)):(c(),y("span",ps,n(s.$t(`BREAK.risks.${e.rKey}.reference[${f}].title`)),1))]))),256))])]),b(D(J),{modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=a=>i.value=a),title:s.$t("avoidance"),"append-to-body":!0},{default:w(()=>[l("div",hs,[l("strong",null,n(s.$t("ID"))+":\xA0",1),v(" "+n(d.value),1)]),l("div",bs,[l("strong",null,n(s.$t("title"))+":\xA0",1),v(" "+n(s.$t(`BREAK.avoidances.${d.value}.title`)),1)]),l("div",ks,[l("strong",null,n(s.$t("summary"))+":\xA0",1),v(" "+n(s.$t(`BREAK.avoidances.${d.value}.summary`)),1)]),l("div",Cs,[l("strong",null,n(s.$t("description"))+":\xA0",1),v(" "+n(s.$t(`BREAK.avoidances.${d.value}.description`)),1)])]),_:1},8,["modelValue","title"])]),_:1},8,["modelValue","title"]))}});const Es=Ve($s,[["__scopeId","data-v-3db7d472"]]);export{Es as _};

import{i as e,_ as a}from"./index-hz1sBoFu.js";/* empty css                        *//* empty css                    */import{B as t}from"./BREAK-ATnGFeaK.js";import{o,r as l,n as s,y as i,q as r,x as n,e as c,w as d}from"./element-plus-DxuawtAF.js";import{a as u}from"./vue-router-mKocEu41.js";import{d as m,b as p,w as h,q as y,t as v,Z as f,l as w,W as $,F as b,ai as K,u as g,ab as k,m as _,V as j,a7 as A,S as E}from"./vue-rmd1cPzt.js";import"./relation-graph-aM9PJqhq.js";import"./vue-i18n-UgkcYfIM.js";import"./BREAK-Risks-LDfXZVSP.js";import"./BREAK-Avoidances-UUqw6tA9.js";const B={class:"avoidance-category-description"},R=["id"],x={class:"reference-list"},C=["href"],O={style:{"text-align":"center",margin:"10px"}},T=a(m({__name:"AvoidancesView",setup(a){const m=u();let T=Object.keys(t.avoidanceCategories),q=Object();T.forEach((e=>{q[e]=Array(),Object.keys(t.avoidances).forEach((a=>{let o=t.avoidances[a];if(e!==o.category)return;let l={...o,aKey:a};q[e].push(l)}))}));const z=e=>{let a={};return Object.keys(t.avoidances).forEach((o=>{t.avoidances[o].category===e&&(a[o]=t.avoidances[o])})),a};let I=24,M=(e,a)=>{let t=Math.round(e/a*24);return I=I<=0?24:I,t=t>I?I:t,I-=t,t};const V=()=>m.hash.split("#")[1]?"unset":window.innerHeight-150,D=p(V());h((()=>m.hash),(()=>{D.value=V()}));const F=({row:e})=>m.hash.split("#")[1]===e.aKey?"anchor-row":"",H=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(a,u)=>{const m=o,p=k("router-link"),h=r,T=l,I=n,V=c,S=d;return _(),y(b,null,[v("h3",null,f(a.$t("menu.avoidances")),1),w(T,{gutter:20},{default:$((()=>[(_(!0),y(b,null,K(g(t).avoidanceCategories,((e,o)=>(_(),j(h,{md:g(M)(Object.keys(g(q)[o]).length,Object.keys(g(t).avoidances).length),key:o},{default:$((()=>[v("h4",null,f(a.$t(`BREAK.avoidanceCategories.${o}.title`)),1),v("div",null,[(_(!0),y(b,null,K(z(o),((e,t)=>(_(),j(p,{key:t,title:e.summary,class:"router-link",to:{name:"avoidances",hash:"#"+t}},{default:$((()=>[w(m,{size:"small",round:"",class:"ml-2"},{default:$((()=>[A(f(t)+":"+f(a.$t(`BREAK.avoidances.${t}.title`)),1)])),_:2},1024)])),_:2},1032,["title","to"])))),128))])])),_:2},1032,["md"])))),128))])),_:1}),(_(!0),y(b,null,K(g(q),((o,l)=>(_(),y("div",{key:l},[v("div",null,[v("h4",{class:"avoidance-category-title",onClick:u[0]||(u[0]=e=>{return a=e,void window.scrollTo({top:a.target.offsetTop-10,behavior:"smooth"});var a})},f(a.$t(`BREAK.avoidanceCategories.${l}.title`))+" ("+f(g(t).avoidanceCategories[l].keyword)+") ",1),v("div",B,f(a.$t(`BREAK.avoidanceCategories.${l}.description`)),1)]),w(S,{height:D.value,data:g(q)[l],"row-class-name":F,stripe:"",border:""},{default:$((()=>[w(I,{prop:"aKey",width:"135px",label:a.$t("ID")},{default:$((t=>[v("a",{class:"anchor-position",id:t.row.aKey},null,8,R),A(" "+f(t.row.aKey)+" ",1),w(p,{title:a.$t("relationMap"),class:"relation-map-icon",to:{name:"relation",params:{type:"avoidance",key:t.row.aKey}}},{default:$((()=>[w(e,{width:"14px",height:"14px"})])),_:2},1032,["title","to"])])),_:1},8,["label"]),w(I,{width:"150px",label:a.$t("title")},{header:$((()=>[A(f(a.$t("title")),1)])),default:$((e=>[A(f(e.row.aKey?a.$t(`BREAK.avoidances.${e.row.aKey}.title`):""),1)])),_:1},8,["label"]),w(I,{label:a.$t("summary")},{default:$((e=>[A(f(e.row.aKey?a.$t(`BREAK.avoidances.${e.row.aKey}.summary`):""),1)])),_:1},8,["label"]),w(I,{label:a.$t("description")},{default:$((e=>[A(f(e.row.aKey?a.$t(`BREAK.avoidances.${e.row.aKey}.description`):""),1)])),_:1},8,["label"]),w(I,{label:a.$t("limitation")},{default:$((e=>[A(f(e.row.aKey?a.$t(`BREAK.avoidances.${e.row.aKey}.limitation`):""),1)])),_:1},8,["label"]),w(I,{width:"250px",label:a.$t("references")},{default:$((e=>[v("ul",x,[(_(!0),y(b,null,K(e.row.references,((t,o)=>(_(),y("li",{key:o},[e.row.aKey?(_(),y("a",{key:0,href:t.link,target:"_blank"},[w(V,null,{default:$((()=>[w(g(s))])),_:1}),A(f(a.$t(`BREAK.avoidances.${e.row.aKey}.references[${o}].title`)),1)],8,C)):E("",!0)])))),128))])])),_:1},8,["label"])])),_:2},1032,["height","data"])])))),128)),v("div",O,[w(m,{type:"primary",size:"small",onClick:H,icon:g(i)},{default:$((()=>[A(f(a.$t("backtop")),1)])),_:1},8,["icon"])])],64)}}}),[["__scopeId","data-v-554422bd"]]);export{T as default};
